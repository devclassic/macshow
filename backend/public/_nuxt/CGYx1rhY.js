import{B as nt,o as re,m as Pe,Y as at,b as st,d as M,n as lt,i as ue,Z as it,_ as rt,u as ke,V as ut,I as dt,p as ct,E as H,l as pt,w as ft}from"./DtnbboDV.js";import{A as m,R as oe,i as j,k as n,z as k,H as Be,P as U,a4 as $e,ap as vt,q as T,ad as ee,U as Fe,a0 as de,ac as mt,D as yt,aq as ht,V as bt,ar as gt,as as wt,c as z,o as h,K as g,F as ce,a as A,x as E,G as Q,C as N,w as D,L as K,X as Me,n as pe,N as fe,t as _,M as Te,S as Ve}from"./C_51ZNOb.js";import{f as xt,e as St}from"./5spP6Te3.js";import{f as me,b as He,u as Et}from"./Vs6Nc1yg.js";import{U as te,I as ve,C as Le}from"./CgeVLJQP.js";import{u as It,i as Ct,d as Re}from"./BzzUKFE_.js";function eo(){if(!arguments.length)return[];var o=arguments[0];return nt(o)?o:[o]}const De=o=>{const a=oe();return m(()=>{var c,t;return(t=(c=a?.proxy)==null?void 0:c.$props)==null?void 0:t[o]})},zt=(o,a={})=>{const c=k(void 0),t=a.prop?c:De("size"),s=a.global?c:xt(),u=a.form?{size:void 0}:j(me,void 0),d=a.formItem?{size:void 0}:j(He,void 0);return m(()=>t.value||n(o)||d?.size||u?.size||s.value||"")},Nt=o=>{const a=De("disabled"),c=j(me,void 0);return m(()=>{var t,s,u;return(u=(s=(t=a.value)!=null?t:n(o))!=null?s:c?.disabled)!=null?u:!1})},Pt=()=>{const o=j(me,void 0),a=j(He,void 0);return{form:o,formItem:a}},kt=(o,{formItemContext:a,disableIdGeneration:c,disableIdManagement:t})=>{c||(c=k(!1)),t||(t=k(!1));const s=oe(),u=()=>{let p=s?.parent;for(;p;){if(p.type.name==="ElFormItem")return!1;if(p.type.name==="ElLabelWrap")return!0;p=p.parent}return!1},d=k();let r;const v=m(()=>{var p;return!!(!(o.label||o.ariaLabel)&&a&&a.inputIds&&((p=a.inputIds)==null?void 0:p.length)<=1)});return Be(()=>{r=U([$e(o,"id"),c],([p,w])=>{const y=p??(w?void 0:It().value);y!==d.value&&(a?.removeInputId&&!u()&&(d.value&&a.removeInputId(d.value),!t?.value&&!w&&y&&a.addInputId(y)),d.value=y)},{immediate:!0})}),vt(()=>{r&&r(),a?.removeInputId&&d.value&&a.removeInputId(d.value)}),{isLabeledByFormItem:v,inputId:d}},Ft=o=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(o);function Mt({afterComposition:o,emit:a}){const c=k(!1),t=r=>{a?.("compositionstart",r),c.value=!0},s=r=>{var v;a?.("compositionupdate",r);const p=(v=r.target)==null?void 0:v.value,w=p[p.length-1]||"";c.value=!Ft(w)},u=r=>{a?.("compositionend",r),c.value&&(c.value=!1,T(()=>o(r)))};return{isComposing:c,handleComposition:r=>{r.type==="compositionend"?u(r):s(r)},handleCompositionStart:t,handleCompositionUpdate:s,handleCompositionEnd:u}}function Tt(o,{disabled:a,beforeFocus:c,afterFocus:t,beforeBlur:s,afterBlur:u}={}){const d=oe(),{emit:r}=d,v=ee(),p=k(!1),w=b=>{const S=Fe(c)?c(b):!1;n(a)||p.value||S||(p.value=!0,r("focus",b),t?.())},y=b=>{var S;const i=Fe(s)?s(b):!1;n(a)||b.relatedTarget&&((S=v.value)!=null&&S.contains(b.relatedTarget))||i||(p.value=!1,r("blur",b),u?.())},x=b=>{var S,i;n(a)||Ct(b.target)||(S=v.value)!=null&&S.contains(document.activeElement)&&v.value!==document.activeElement||(i=o.value)==null||i.focus()};return U([v,()=>n(a)],([b,S])=>{b&&(S?b.removeAttribute("tabindex"):b.setAttribute("tabindex","-1"))}),re(v,"focus",w,!0),re(v,"blur",y,!0),re(v,"click",x,!0),{isFocused:p,wrapperRef:v,handleFocus:w,handleBlur:y}}let I;const Vt={height:"0",visibility:"hidden",overflow:at()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Lt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],Ae=o=>{const a=Number.parseFloat(o);return Number.isNaN(a)?o:a};function Rt(o){const a=window.getComputedStyle(o),c=a.getPropertyValue("box-sizing"),t=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),s=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:Lt.map(d=>[d,a.getPropertyValue(d)]),paddingSize:t,borderSize:s,boxSizing:c}}function Oe(o,a=1,c){var t,s;I||(I=document.createElement("textarea"),((t=o.parentNode)!=null?t:document.body).appendChild(I));const{paddingSize:u,borderSize:d,boxSizing:r,contextStyle:v}=Rt(o);v.forEach(([x,b])=>I?.style.setProperty(x,b)),Object.entries(Vt).forEach(([x,b])=>I?.style.setProperty(x,b,"important")),I.value=o.value||o.placeholder||"";let p=I.scrollHeight;const w={};r==="border-box"?p=p+d:r==="content-box"&&(p=p-u),I.value="";const y=I.scrollHeight-u;if(Pe(a)){let x=y*a;r==="border-box"&&(x=x+u+d),p=Math.max(x,p),w.minHeight=`${x}px`}if(Pe(c)){let x=y*c;r==="border-box"&&(x=x+u+d),p=Math.min(x,p)}return w.height=`${p}px`,(s=I.parentNode)==null||s.removeChild(I),I=void 0,w}const At=st({id:{type:String,default:void 0},size:St,disabled:{type:Boolean,default:void 0},modelValue:{type:M([String,Number,Object]),default:""},modelModifiers:{type:M(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:M(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:M([Boolean,Object]),default:!1},autocomplete:{type:M(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:ue,default:mt},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:ue},prefixIcon:{type:ue},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:M([Object,Array,String]),default:()=>lt({})},autofocus:Boolean,rows:{type:Number,default:2},...Et(["ariaLabel"]),inputmode:{type:M(String),default:void 0},name:String}),Ot={[te]:o=>de(o),input:o=>de(o),change:(o,a)=>de(o)&&(a instanceof Event||a===void 0),focus:o=>o instanceof FocusEvent,blur:o=>o instanceof FocusEvent,clear:()=>!0,mouseleave:o=>o instanceof MouseEvent,mouseenter:o=>o instanceof MouseEvent,keydown:o=>o instanceof Event,compositionstart:o=>o instanceof CompositionEvent,compositionupdate:o=>o instanceof CompositionEvent,compositionend:o=>o instanceof CompositionEvent},Bt=["class","style"],$t=/^on[A-Z]/,Ht=(o={})=>{const{excludeListeners:a=!1,excludeKeys:c}=o,t=m(()=>(c?.value||[]).concat(Bt)),s=oe();return s?m(()=>{var u;return it(Object.entries((u=s.proxy)==null?void 0:u.$attrs).filter(([d])=>!t.value.includes(d)&&!(a&&$t.test(d))))}):m(()=>({}))};function Dt(o){let a;function c(){if(o.value==null)return;const{selectionStart:s,selectionEnd:u,value:d}=o.value;if(s==null||u==null)return;const r=d.slice(0,Math.max(0,s)),v=d.slice(Math.max(0,u));a={selectionStart:s,selectionEnd:u,value:d,beforeTxt:r,afterTxt:v}}function t(){if(o.value==null||a==null)return;const{value:s}=o.value,{beforeTxt:u,afterTxt:d,selectionStart:r}=a;if(u==null||d==null||r==null)return;let v=s.length;if(s.endsWith(d))v=s.length-d.length;else if(s.startsWith(u))v=u.length;else{const p=u[r-1],w=s.indexOf(p,r-1);w!==-1&&(v=w+1)}o.value.setSelectionRange(v,v)}return[c,t]}const Kt=["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode"],Ut=["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role"],jt="ElInput",Wt=yt({name:jt,inheritAttrs:!1,__name:"input",props:At,emits:Ot,setup(o,{expose:a,emit:c}){const t=o,s=c,u=ht(),d=Ht(),r=bt(),v=m(()=>[t.type==="textarea"?ye.b():i.b(),i.m(b.value),i.is("disabled",S.value),i.is("exceed",We.value),{[i.b("group")]:r.prepend||r.append,[i.m("prefix")]:r.prefix||t.prefixIcon,[i.m("suffix")]:r.suffix||t.suffixIcon||t.clearable||t.showPassword,[i.bm("suffix","password-clear")]:q.value&&se.value,[i.b("hidden")]:t.type==="hidden"},u.class]),p=m(()=>[i.e("wrapper"),i.is("focus",ae.value)]),{form:w,formItem:y}=Pt(),{inputId:x}=kt(t,{formItemContext:y}),b=zt(),S=Nt(),i=ke("input"),ye=ke("textarea"),W=ee(),P=ee(),ne=k(!1),Y=k(!1),he=k(),X=ee(t.inputStyle),C=m(()=>W.value||P.value),{wrapperRef:Ke,isFocused:ae,handleFocus:be,handleBlur:ge}=Tt(C,{disabled:S,afterBlur(){var e;t.validateEvent&&((e=y?.validate)==null||e.call(y,"blur").catch(l=>Re()))}}),we=m(()=>{var e;return(e=w?.statusIcon)!=null?e:!1}),O=m(()=>y?.validateState||""),xe=m(()=>O.value&&ut[O.value]),Ue=m(()=>Y.value?gt:wt),je=m(()=>[u.style]),Se=m(()=>[t.inputStyle,X.value,{resize:t.resize}]),F=m(()=>dt(t.modelValue)?"":String(t.modelValue)),q=m(()=>t.clearable&&!S.value&&!t.readonly&&!!F.value&&(ae.value||ne.value)),se=m(()=>t.showPassword&&!S.value&&!!F.value),V=m(()=>t.showWordLimit&&!!t.maxlength&&(t.type==="text"||t.type==="textarea")&&!S.value&&!t.readonly&&!t.showPassword),le=m(()=>F.value.length),We=m(()=>!!V.value&&le.value>Number(t.maxlength)),Ye=m(()=>!!r.suffix||!!t.suffixIcon||q.value||t.showPassword||V.value||!!O.value&&we.value),Xe=m(()=>!!Object.keys(t.modelModifiers).length),[qe,Ze]=Dt(W);ct(P,e=>{if(Ge(),!V.value||t.resize!=="both"&&t.resize!=="horizontal")return;const l=e[0],{width:f}=l.contentRect;he.value={right:`calc(100% - ${f+22-10}px)`}});const B=()=>{const{type:e,autosize:l}=t;if(!(!pt||e!=="textarea"||!P.value))if(l){const f=Ve(l)?l.minRows:void 0,R=Ve(l)?l.maxRows:void 0,$=Oe(P.value,f,R);X.value={overflowY:"hidden",...$},T(()=>{P.value.offsetHeight,X.value=$})}else X.value={minHeight:Oe(P.value).minHeight}},Ge=(e=>{let l=!1;return()=>{var f;if(l||!t.autosize)return;((f=P.value)==null?void 0:f.offsetParent)===null||(setTimeout(e),l=!0)}})(B),L=()=>{const e=C.value,l=t.formatter?t.formatter(F.value):F.value;!e||e.value===l||t.type==="file"||(e.value=l)},Ee=e=>{const{trim:l,number:f}=t.modelModifiers;return l&&(e=e.trim()),f&&(e=`${Ae(e)}`),t.formatter&&t.parser&&(e=t.parser(e)),e},ie=async e=>{if(Ce.value)return;const{lazy:l}=t.modelModifiers;let{value:f}=e.target;if(l){s(ve,f);return}if(f=Ee(f),String(f)===F.value){t.formatter&&L();return}qe(),s(te,f),s(ve,f),await T(),(t.formatter&&t.parser||!Xe.value)&&L(),Ze()},Ie=async e=>{let{value:l}=e.target;l=Ee(l),t.modelModifiers.lazy&&s(te,l),s(Le,l,e),await T(),L()},{isComposing:Ce,handleCompositionStart:Z,handleCompositionUpdate:G,handleCompositionEnd:J}=Mt({emit:s,afterComposition:ie}),Je=()=>{Y.value=!Y.value},Qe=()=>{var e;return(e=C.value)==null?void 0:e.focus()},_e=()=>{var e;return(e=C.value)==null?void 0:e.blur()},et=e=>{ne.value=!1,s("mouseleave",e)},tt=e=>{ne.value=!0,s("mouseenter",e)},ze=e=>{s("keydown",e)},ot=()=>{var e;(e=C.value)==null||e.select()},Ne=()=>{s(te,""),s(Le,""),s("clear"),s(ve,"")};return U(()=>t.modelValue,()=>{var e;T(()=>B()),t.validateEvent&&((e=y?.validate)==null||e.call(y,"change").catch(l=>Re()))}),U(F,e=>{if(!C.value)return;const{trim:l,number:f}=t.modelModifiers,R=C.value.value,$=(f||t.type==="number")&&!/^0\d/.test(R)?`${Ae(R)}`:R;$!==e&&(document.activeElement===C.value&&C.value.type!=="range"&&l&&$.trim()===e||L())}),U(()=>t.type,async()=>{await T(),L(),B()}),Be(()=>{!t.formatter&&t.parser,L(),T(B)}),a({input:W,textarea:P,ref:C,textareaStyle:Se,autosize:$e(t,"autosize"),isComposing:Ce,focus:Qe,blur:_e,select:ot,clear:Ne,resizeTextarea:B}),(e,l)=>(h(),z("div",{class:E([v.value,{[n(i).bm("group","append")]:e.$slots.append,[n(i).bm("group","prepend")]:e.$slots.prepend}]),style:Te(je.value),onMouseenter:tt,onMouseleave:et},[g(" input "),e.type!=="textarea"?(h(),z(ce,{key:0},[g(" prepend slot "),e.$slots.prepend?(h(),z("div",{key:0,class:E(n(i).be("group","prepend"))},[Q(e.$slots,"prepend")],2)):g("v-if",!0),A("div",{ref_key:"wrapperRef",ref:Ke,class:E(p.value)},[g(" prefix slot "),e.$slots.prefix||e.prefixIcon?(h(),z("span",{key:0,class:E(n(i).e("prefix"))},[A("span",{class:E(n(i).e("prefix-inner"))},[Q(e.$slots,"prefix"),e.prefixIcon?(h(),N(n(H),{key:0,class:E(n(i).e("icon"))},{default:D(()=>[(h(),N(K(e.prefixIcon)))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0),A("input",Me({id:n(x),ref_key:"input",ref:W,class:n(i).e("inner")},n(d),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?Y.value?"text":"password":e.type,disabled:n(S),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:l[0]||(l[0]=(...f)=>n(Z)&&n(Z)(...f)),onCompositionupdate:l[1]||(l[1]=(...f)=>n(G)&&n(G)(...f)),onCompositionend:l[2]||(l[2]=(...f)=>n(J)&&n(J)(...f)),onInput:ie,onChange:Ie,onKeydown:ze}),null,16,Kt),g(" suffix slot "),Ye.value?(h(),z("span",{key:1,class:E(n(i).e("suffix"))},[A("span",{class:E(n(i).e("suffix-inner"))},[!q.value||!se.value||!V.value?(h(),z(ce,{key:0},[Q(e.$slots,"suffix"),e.suffixIcon?(h(),N(n(H),{key:0,class:E(n(i).e("icon"))},{default:D(()=>[(h(),N(K(e.suffixIcon)))]),_:1},8,["class"])):g("v-if",!0)],64)):g("v-if",!0),q.value?(h(),N(n(H),{key:1,class:E([n(i).e("icon"),n(i).e("clear")]),onMousedown:pe(n(fe),["prevent"]),onClick:Ne},{default:D(()=>[(h(),N(K(e.clearIcon)))]),_:1},8,["class","onMousedown"])):g("v-if",!0),se.value?(h(),N(n(H),{key:2,class:E([n(i).e("icon"),n(i).e("password")]),onClick:Je,onMousedown:pe(n(fe),["prevent"]),onMouseup:pe(n(fe),["prevent"])},{default:D(()=>[(h(),N(K(Ue.value)))]),_:1},8,["class","onMousedown","onMouseup"])):g("v-if",!0),V.value?(h(),z("span",{key:3,class:E([n(i).e("count"),n(i).is("outside",e.wordLimitPosition==="outside")])},[A("span",{class:E(n(i).e("count-inner"))},_(le.value)+" / "+_(e.maxlength),3)],2)):g("v-if",!0),O.value&&xe.value&&we.value?(h(),N(n(H),{key:4,class:E([n(i).e("icon"),n(i).e("validateIcon"),n(i).is("loading",O.value==="validating")])},{default:D(()=>[(h(),N(K(xe.value)))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0)],2),g(" append slot "),e.$slots.append?(h(),z("div",{key:1,class:E(n(i).be("group","append"))},[Q(e.$slots,"append")],2)):g("v-if",!0)],64)):(h(),z(ce,{key:1},[g(" textarea "),A("textarea",Me({id:n(x),ref_key:"textarea",ref:P,class:[n(ye).e("inner"),n(i).is("focus",n(ae))]},n(d),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:n(S),readonly:e.readonly,autocomplete:e.autocomplete,style:Se.value,"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:l[3]||(l[3]=(...f)=>n(Z)&&n(Z)(...f)),onCompositionupdate:l[4]||(l[4]=(...f)=>n(G)&&n(G)(...f)),onCompositionend:l[5]||(l[5]=(...f)=>n(J)&&n(J)(...f)),onInput:ie,onFocus:l[6]||(l[6]=(...f)=>n(be)&&n(be)(...f)),onBlur:l[7]||(l[7]=(...f)=>n(ge)&&n(ge)(...f)),onChange:Ie,onKeydown:ze}),null,16,Ut),V.value?(h(),z("span",{key:0,style:Te(he.value),class:E([n(i).e("count"),n(i).is("outside",e.wordLimitPosition==="outside")])},_(le.value)+" / "+_(e.maxlength),7)):g("v-if",!0)],64))],38))}});var Yt=rt(Wt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const to=ft(Yt);export{to as E,Pt as a,kt as b,eo as c,Mt as d,Nt as e,Tt as f,zt as u};
